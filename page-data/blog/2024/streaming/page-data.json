{"componentChunkName":"component---src-templates-post-tsx-content-file-path-src-posts-2024-streaming-index-mdx","path":"/blog/2024/streaming/","result":{"data":{"mdx":{"id":"f745a12f-6978-5bc5-9caa-4e128ddcb65b","body":"\n# üåê Overview\n\n![Project Image](./assets/architecture.png)\n\nMERN Video Streaming is a cutting-edge, open-source platform for video streaming, offering a comprehensive, full-stack solution utilizing the latest MERN stack technologies. With MERN Video Streaming, users can easily upload, manage, and stream videos on demand, providing a seamless experience. This project features a video processing capability that provides real-time notifications upon completion.\n\nThe backend is comprised of three services, utilizing Redis messaging for communication. These include an API server, a video conversion service, and an HTTP server serving HLS video files. On the client side, the project uses create-react-app and MUI library, along with socket.io-client and React Context.\n\n# üåü Features\n\n- Real-time video processing with notifications upon completion\n- Three-tier backend services for API, video conversion, and HTTP serving\n- Frontend built with create-react-app and MUI library\n- Real-time communication with the API server using socket.io-client and React Context\n\n# üèóÔ∏è Architecture\n\n![Architecture Image](https://user-images.githubusercontent.com/497812/220627727-04a26928-71df-4c9b-9637-92289a2beee2.png)\n\n# üì° Backend Services\n\n### üñ•Ô∏è API Server\n\nThe API server is an Expressjs app that uses Joi, Multer, BullMQ, Socket.io, and\nMongoDB driver. The server communicates with Redis to process and store data,\nand uses MongoDB as the primary database. The API server is responsible for the\nfollowing:\n\n1. **User Authentication:** Handles user registration, login, and JWT token generation.\n2. **Video Upload:** Manages video uploads, stores video metadata in MongoDB, and sends a job to the video processing service.\n3. **Video Management:** Provides endpoints for fetching video metadata, deleting videos, and fetching video streams.\n4. **Real-time Notifications:** Sends real-time notifications to the client using socket.io upon video processing completion.\n5. **Job Queue Management:** Manages the job queue using BullMQ, passing one job to the next upon completion.\n6. **Redis Communication:** Communicates with Redis to store job data and send real-time notifications to the client.\n7. **Bucket Storage Integration:** Upload completed video file into a CDN bucket storage to store video files, ensuring optimal streaming quality.\n8. **Video Streaming:** Serves HLS video files to the client, allowing users to stream videos seamlessly.\n\nThe HTTP server communicates with Redis to fetch video metadata and stream video files.\nThis server is not exposed to the public internet, ensuring a secure video streaming pipeline.\n\n### üéûÔ∏è Video Processing Service\n\nThe Video Conversion Service is a Node.js process with ffmpeg responsible for converting videos and managing tasks with the BullMQ library.\nFirst of all, when user upload a video with an watermark image(optional), the API server sends a job to the video processing service. The job contains the video file, the watermark image, and the user ID. The video processing service then processes the video in three steps:\n\n1. **Video Conversion:** Converts any format video into MP4 and applies a watermark if an image is provided.\n\n![video-conversion](./assets/up.png)\n\n2. **Adaptive Bitrate Processing:** Transforms the video into adaptive bitrate HLS format (480p & 1080p) for optimal streaming quality.\n3. **CDN Upload:** Upon successful conversion, the video is uploaded to a CDN bucket storage. This allows users to stream videos seamlessly from anywhere in the world.\n\nThe video processing service communicates with the API server using Redis messaging to send real-time notifications upon completion.\n\n# üì± Frontend\n\n## üì• Upload\n\nTo upload a video with watermark image, the user must first register and login. After logging in, the user can upload a video with an optional watermark image.\nThe video is then processed and uploaded to the CDN bucket storage. Upon completion every process, the user receives a real-time notification.\n\n![home-page](./assets/cover.png)\n\nBelow some feature of the frontend part of the project:\n\n- **Video Search:** Look for videos by typing in their title.\n- **Video Filter:** Pick videos based on specific tags.\n- **Video Sorting:** Put videos in order by date, views, likes, etc.\n- **Edit Video metadata:** User can edit the video title, description, tag etc.\n- **Video Tag:** Add tags to group your videos together.\n\n## üìΩÔ∏è Streaming\n\nUser will able to see their uploaded videos and stream them. The video player is built with HLS.js, allowing for seamless video streaming.\nThis player has a built-in adaptive bitrate feature, ensuring optimal streaming quality. User can easily switch to different video quality options.\nDepend on user internet speed, the video player will automatically switch to the best quality.\n\n![video-player](./assets/pl.png)\n\nOn the right side of the video player, user can see the related videos.\nBelow the video player, user can see the video details.\n\n## üöÄ** Upcoming Update **\n\nThis project is a work in progress, and there's so much more we can do to enhance it! Here are some of the features we're planning to add in the future. We'd love to hear your thoughts on these:\n\n- **User Profile:** How about a feature where users can view and update their profiles?\n- **Video Analytics:** Wouldn't it be great to see analytics like views, likes, and comments for each video?\n- **Video Comment:** How important do you think it is for users to be able to comment on videos?\n- **Video Like:** Should users be able to like videos?\n- **Video Share:** What about sharing videos? How often do you share videos you enjoy?\n- **Video Playlist:** How about creating playlists and adding videos to them?\n- **Video Subscription:** Should users be able to subscribe to channels and receive notifications for new uploads?\n- **Video Notification:** How would you feel about getting notifications when someone likes, comments, or shares your video?\n- **Video Embed:** Should users be able to embed videos on their websites?\n- **Video Download:** How about a feature for downloading videos?\n- **Video Edit:** Should users be able to edit video titles, descriptions, tags, etc.?\n- **Video Delete:** How important is it for users to be able to delete their videos?\n\nWe're excited about these potential features and would love to hear your feedback. Which of these features are you most interested in? Are there any other features you'd like to see added?\n\n## ü§ñ Technologies Used\n\n- **Backend:** TypeScript, Node.js, Express.js,ffmpeg, MongoDB, Redis, BullMQ, Socket.io, AWS S3, ffmpeg, HLS.js\n- **Frontend:** React, MUI, HLS.js, socket.io-client, React Context\n\n## üë®üèª‚Äçüíª Github\n\n<a\n  href=\"https://github.com/AwalHossain/video_streaming_service_server\"\n  target=\"_blank\"\n>\n  Video Streaming Service Server\n</a>\n\n<a href=\"https://github.com/AwalHossain/video_streaming_client\" target=\"_blank\">\n  Video Streaming Service Client\n</a>\n\n## üìπ Video Explanation\n\nHere is the video explanation of the project where i've explained How the web application works and how the backend services are communicating with each other.Hope this\nwill help you to understand the project better.\n\n<iframe\n  width=\"80%\"\n  height=\"315\"\n  src=\"https://www.youtube.com/embed/RCRwublmR9E?si=kN1RwckxAq2zIKEm\"\n  title=\"YouTube video player\"\n  frameborder=\"0\"\n  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n  allowfullscreen\n></iframe>\n","fields":{"slug":"/blog/2024/streaming/"},"internal":{"contentFilePath":"/home/runner/work/awalhossain.github.io/awalhossain.github.io/src/posts/2024/streaming/index.mdx"},"frontmatter":{"title":"MERN Video Streaming- [Behind the Scene] ","summary":" In-depth explanation of how JavaScript engines work, focusing on Google's V8 engine. It discusses the process of lexical analysis, the role of interpreters and compilers, and the concept of Just-In-Time (JIT) compilation for optimizing JavaScript execution","date":"03 March, 2024","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#080808","images":{"fallback":{"src":"/static/2bb943ed9cd8518723ace122afae0e91/c678f/reely.png","srcSet":"/static/2bb943ed9cd8518723ace122afae0e91/d1822/reely.png 750w,\n/static/2bb943ed9cd8518723ace122afae0e91/dab75/reely.png 1080w,\n/static/2bb943ed9cd8518723ace122afae0e91/c678f/reely.png 1280w","sizes":"100vw"},"sources":[{"srcSet":"/static/2bb943ed9cd8518723ace122afae0e91/ee401/reely.webp 750w,\n/static/2bb943ed9cd8518723ace122afae0e91/de1b1/reely.webp 1080w,\n/static/2bb943ed9cd8518723ace122afae0e91/92bb1/reely.webp 1280w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5625}}}}}},"pageContext":{"slug":"/blog/2024/streaming/","frontmatter":{"title":"MERN Video Streaming- [Behind the Scene] ","summary":" In-depth explanation of how JavaScript engines work, focusing on Google's V8 engine. It discusses the process of lexical analysis, the role of interpreters and compilers, and the concept of Just-In-Time (JIT) compilation for optimizing JavaScript execution","cover":"assets/reely.png","date":"2024-03-03T00:00:00.000Z"}}},"staticQueryHashes":[],"slicesMap":{}}